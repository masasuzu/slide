==============================================
zshとtscreenとterminalと私
==============================================
:Version:
    1.0 of 2011/09/12

:Author:
    SUZUKI Masashi / masasuzu

:Mail:
    m15.suzuki.masashi@gmail.com









Agenda
============================================
#. 自己紹介
#. 普段のターミナルの使い方(全般のこと)
#. 普段のターミナルの使い方(screen)
#. 普段のターミナルの使い方(zsh)
#. 設定ファイルはバージョン管理する













自己紹介とか
============================================
* すずきまさし (鈴木 勝史)
* 株式会社モバイルファクトリー システム開発部
* twitter : @masasuz
* hatena  : id:masasuz http://d.hatena.ne.jp/masasuz/
* facebook: http://www.facebook.com/masasuz













自己紹介とか cont..
============================================
* 1年半前から今のお仕事
* 普段のお仕事は携帯の公式サイトとか携帯向けのソーシャルアプリとか開発
* 一応サーバの構築から運用保守まで大体全部やります















自己紹介とか cont...
============================================
* vimとかzshとかperlとかtscreenとかtera term使いです
* まだ使われている感が満載です
















普段の使い方(terminalとか全般)
============================================
* 普段の環境はWindowsマシンからteraterm経由でdebianマシンにsshしています
* デュアルディスプレイ + ノートPCでtera termを二枚立ち上げています
* ノートとデスクトップマシンはSynergyでキーボードとマウスを共有しています

  * 1枚でコーディング
  * もう一枚でApacheのログ確認とか


::

    <=  社内ローカルネットワーク  =>      <=       idc(AWSとか)       =>
    +------+      +----------------+      +------------+      +--------+
    | Win  | ===> | debian on ESXi | ===> | debian(GW) | ===> | debian |
    +------+ ssh  +----------------+ ssh  +------------+ ssh  +--------+





普段の使い方(screen)
============================================
* tscreenを使っています。

  * 理由は特にないです。
  * 最初にトレーナについた先輩が使っていたのがtscreenだったので。設定も先輩のものをぱくって少しいじっている程度
  * tmuxとか興味があるので使ってみたい。













普段の使い方(screen) cont..
============================================
* スクリーンは基本立ち上げっぱなしです。

  * 出社したらscreen -rd project
  * 退社する時は screen -d














普段の使い方(screen) cont...
============================================
* スクリーンは目的ごとに立ち上げています。

  * screen -S ${SCREEN_NAME}
  * project(コーディングとか普段のお仕事用)
  * log(ローカルのログ監視用Apacheとかlightyとかsyslogとか)
  * system(常に動かし放しのプログラム用、port-forwardingとかtiarraとか。deamon-toolsを使えと言う噂もありますが。。)
  * idc(データセンター作業用)

* 他の人がどんな感じでスクリーンを使い分けているのかちょっと知りたいです。
* screen上だとmultitailの表示がおかしくなる原因を知っている人がいたら教えてください。








普段の使い方(zsh)
============================================

* 設定とか先輩のものをまるぱくり(最初は)

  * 最初の内はそれでいいと思います
  * zshの良い記事があったので、そこをコピーして使い始めるといいんじゃないですかね。
  * http://www.clear-code.com/blog/2011/9/5.html
  * githubとかにdotfilesとかそんな名前のプロジェクトが転がっているのでそのへんからコピーして良いです。
  * だんだん自分好みの設定にしていくといいです。










普段の使い方(zsh) cont..
============================================

* プロンプトは少しいじってます。

  * ドメイン
  * パス
  * ユーザ名@マシン名
  * gitのブランチ名











普段の使い方(zsh) cont...
============================================

* 定型コマンドはalias or function化します
















設定ファイルはバージョン管理する
============================================
* 管理サーバが1台2台の時は都度コピーしても気にならないけど、多くなってくると破綻します
* gitなどで設定ファイルをバージョン管理すると吉

  * レポジトリにあるファイルを実体ファイルにして、homeディレクトリにリンクを張ると良い
  * ln -s ${REPOS}/.zshrc ${HOME}/.zshrc
  * ファイルの更新するときはgitの操作だけでよくなります












設定ファイルはバージョン管理する cont..
============================================

* こんなものをレポジトリに入れています。

  * .zshrc
  * .zprofile
  * .vimrc
  * vimのプラグイン
  * .tscreenrc
  * .gitconfig
  * Makefile








設定ファイルはバージョン管理する cont...
============================================

* Makefile ?

  * 各設定ファイルにいちいちlnコマンドを実行するのはめんどい
  * make envとかやると一発で設定ファイルのリンクを張ってくれます
  * いろいろな環境設定がmake hogehogeでできるのでインタフェースが統一されている

* シェルスクリプトでやるのとどっちが良いのか迷い中










おわりに
============================================

* ターミナルを使う上で何かヒントになれば幸いです。
* とにかくまずは使い始めてみてください。自分も最初は戸惑いましたが、2週間も使い続ければ慣れますです。
* 設定とか分からなければ、最初は他の人の設定ファイルを丸ぱくれば良いと思います。徐々に自分好みに改造!!
* 資料はgithubあたりに上げておきます。
















