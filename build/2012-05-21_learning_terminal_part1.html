<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>黒い画面入門 Part.I</title>
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />
    <link href="css/impress.css" rel="stylesheet" />
</head>
<body>
<div id="impress" class="impress-not-supported">
    <div class="fallback-message">
        <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
        <p>For the best experience please use the latest <b>Chrome</b> or <b>Safari</b> browser. Firefox 10 (to be released soon) will also handle it.</p>
    </div>

<div id="title" class="step" data-y="0" data-x="0">
<h1>黒い画面入門 Part.I</h1>

<p>Version
:1.0 of 2012/05/21</p>

<p>Author
:SUZUKI Masashi / masasuzu</p>

<p>Mail
:m15.suzuki.masashi@gmail.com</p>

</div>
<div class="step" data-y="0" data-x="1200">
<h1>Agenda</h1>

<ol>
<li>自己紹介的な何か.</li>
<li>なぜ黒い画面.</li>
<li>コマンドライン操作.</li>
<li>簡単なコマンド.</li>
</ol>

</div>
<div class="step" data-y="0" data-x="2400">
<h1>前提条件</h1>

<p>基本的に以下の環境で動かすことを前提にしています。</p>

<ul>
<li>Debian lenny</li>
<li>vim</li>
<li>zsh</li>
<li>screen</li>
</ul>

</div>
<div class="step" data-y="0" data-x="3600">
<h1>1. 自己紹介とか</h1>

<ul>
<li>すずきまさし (鈴木 勝史)</li>
<li>株式会社モバイルファクトリー システム開発部</li>
<li>@masasuz</li>
</ul>

</div>
<div class="step" data-y="0" data-x="4800">
<h1>コンテキストとか</h1>

<ul>
<li>黒い画面でごにょごにょするお仕事は2年くらい(6月で3年目)</li>
<li>普段のお仕事は携帯の公式サイトとか携帯向けのソーシャルアプリとか開発</li>
<li>開発から運用･障碍対応まで大体全部やります</li>
<li>vim / perl / mysql / tscreen / zsh / debian</li>
</ul>

<p>今回の話は昔どっかの勉強会で話した内容の焼き直しです。</p>

<ul>
<li>http://masasuzu.github.com/slide/build/2011-03-26_devlove_terminal.html</li>
</ul>

</div>
<div class="step" data-y="800" data-x="0">
<h1>普段のお仕事環境</h1>

<p>クライアントマシン
:Windows7</p>

<p>ターミナル
:mintty</p>

<p>開発マシン
:Debian Lenny</p>

<pre><code>Client PC
(mintty on Windows)
    |
    |
    |  ssh    Development Machine
    +-------&gt; (Debian Lenny on VM)
                |
                |  ssh    IDC
                +-------&gt; (Debian Lenny)
</code></pre>

</div>
<div class="step" data-y="800" data-x="1200">
<h1>2. 黒い画面</h1>

</div>
<div class="step" data-y="800" data-x="2400">
<h1>黒い画面の理由</h1>

<ul>
<li>回線が細い場所でも操作が可能</li>
<li>複数のサーバに対して操作がしゃすい</li>
<li>定型操作を自動化しやすい</li>
</ul>

</div>
<div class="step" data-y="800" data-x="3600">
<h1>ターミナルエミュレータ</h1>

<p>サーバに接続するには、ターミナルエミュレータを使用する必要があります。このターミナルエミュレータのことを一般的に黒い画面と言います。
Windows で動作するターミナルエミュレータには以下のものがあります。</p>

<ul>
<li>mintty</li>
<li>Tera Term</li>
<li>コマンドプロンプト</li>
<li>PuTTY</li>
</ul>

</div>
<div class="step" data-y="800" data-x="4800">
<h1>SSH</h1>

<p>sshとはローカルのターミナルからリモートのサーバへ接続するためのプロトコルです。
古くはtelnetが使われていましたが、平文で通信するなど、セキュリティ的に問題があるため、現在ではほとんど使われていません。</p>

<p>認証の方式にパスワードと公開鍵方式がありますが、基本的にパスワード認証は推奨されません。</p>

</div>
<div class="step" data-y="1600" data-x="0">
<h1>3. コマンドライン操作</h1>

</div>
<div class="step" data-y="1600" data-x="1200">
<h1>コマンドライン</h1>

<p>ターミナルでは基本的にCUIと呼ばれる文字ベースのインターフェースが使用されます。
一般的にコマンドラインと呼ばれ、1行単位で命令(コマンド)を実行します。</p>

</div>
<div class="step" data-y="1600" data-x="2400">
<h1>コマンドライン編集</h1>

<p>コマンドラインはデフォルトで、emacsキーバインドになっています。
emacsキーバインドを覚えておくと効率よくコマンドラインを編集することができるようになります。</p>

<p>set -oで変更することができます。</p>

<pre><code>set -o vi
set -o emacs
</code></pre>

</div>
<div class="step" data-y="1600" data-x="3600">
<h1>emacsキーバインド</h1>

<ul>
<li>Ctrl + f
<ul>
<li>右に移動  →</li>
<li>forward</li>
</ul></li>
<li>Ctrl + b
<ul>
<li>左に移動  ←</li>
<li>back</li>
</ul></li>
<li>Ctrl + h
<ul>
<li>1文字削除、バックスペース</li>
</ul></li>
<li>Ctrl + j
<ul>
<li>Enter</li>
</ul></li>
<li>Ctrl + [
<ul>
<li>ESC</li>
</ul></li>
</ul>

</div>
<div class="step" data-y="1600" data-x="4800">
<h1>emacsキーバインド cont.</h1>

<ul>
<li>ESC + f
<ul>
<li>右に1単語移動</li>
</ul></li>
<li>ESC + b
<ul>
<li>左に1単語移動</li>
</ul></li>
<li>ESC + d
<ul>
<li>右の1単語削除</li>
</ul></li>
<li>Ctrl + w
<ul>
<li>左の1単語削除</li>
</ul></li>
</ul>

</div>
<div class="step" data-y="2400" data-x="0">
<h1>emacsキーバインド cont..</h1>

<ul>
<li>Ctrl + a
<ul>
<li>行頭に移動</li>
<li>一番最初のa</li>
</ul></li>
<li>Ctrl + e
<ul>
<li>行末に移動</li>
<li>end</li>
</ul></li>
<li>Ctrl + k
<ul>
<li>現在位置から行末まで削除</li>
</ul></li>
</ul>

</div>
<div class="step" data-y="2400" data-x="1200">
<h1>ヒストリー</h1>

<ul>
<li>Ctrl + p
<ul>
<li>コマンド履歴の後方参照</li>
<li>previous</li>
</ul></li>
<li>Ctrl + n
<ul>
<li>コマンド履歴の前方参照</li>
<li>next</li>
</ul></li>
<li>Ctrl + r
<ul>
<li>コマンド履歴の後方検索</li>
</ul></li>
<li>Ctrl + s
<ul>
<li>コマンド履歴の前方検索</li>
</ul></li>
</ul>

</div>
<div class="step" data-y="2400" data-x="2400">
<h1>fc</h1>

<p>コマンドラインをエディタで編集できます。EDITOR変数に指定されているエディタが立ち上がります。</p>

</div>
<div class="step" data-y="2400" data-x="3600">
<h1>4. 簡単なコマンド</h1>

<p>Unixコマンドは基本的に以下の形式で、オプションと引数を取ることがあります。</p>

<pre><code>command &lt;option&gt; &lt;argument&gt;
</code></pre>

</div>
<div class="step" data-y="2400" data-x="4800">
<h2>オプション</h2>

<p>コマンドにはオプションをつけることで挙動を変えることができるものもあります。</p>

<p>オプションにはロングタイプとショートタイプがあります。シェルスクリプトなどあとで見返すことのあるものに関してはロングタイプを使うと良いでしょう。</p>

<pre><code>perl -v
perl --version
</code></pre>

<p>ショートオプションに関しては、くっつけて記述することも可能です。</p>

<pre><code>ls -lah
</code></pre>

</div>
<div class="step" data-y="3200" data-x="0">
<h2>man</h2>

<p>コマンドのリファレンスを表示します。ググる前にまず引いてください。</p>

<pre><code>% man &lt;section&gt; &lt;command&gt;
</code></pre>

<p>セクション番号の意味は以下の通り。コマンドを調べる限りは1もしくは省略しても大丈夫です。</p>

<pre><code>1   Executable programs or shell commands
2   System calls (functions provided by the kernel)
3   Library calls (functions within program libraries)
4   Special files (usually found in /dev)
5   File formats and conventions eg /etc/passwd
6   Games
7   Miscellaneous (including macro packages and  conventions),
    e.g. man(7), groff(7)
8   System administration commands (usually only for root)
9   Kernel routines [Non standard]
</code></pre>

</div>
<div class="step" data-y="3200" data-x="1200">
<h2>pwd</h2>

<p>今いるディレクトリを表示します。</p>

<pre><code>% pwd
/home/masasuzu
</code></pre>

</div>
<div class="step" data-y="3200" data-x="2400">
<h2>ls</h2>

<p>ディレクトリの中身を表示します。</p>

<pre><code>ls

# リスト表示
ls -l

# 隠しファイルも表示
ls -a
</code></pre>

</div>
<div class="step" data-y="3200" data-x="3600">
<h2>cd</h2>

<p>今いるディレクトリを移動します。</p>

<pre><code># 今いるディレクトリのある&lt;file&gt;というディレクトリに移動
cd &lt;file&gt;

# 一つ前にいたディレクトリに移動
cd -

# ホームディレクトリに移動
cd ~
</code></pre>

</div>
<div class="step" data-y="3200" data-x="4800">
<h2>touch</h2>

<p>新しく空のファイルを作ります。すでに存在する場合は更新時間を更新します。</p>

<pre><code>touch &lt;file&gt;
</code></pre>

</div>
<div class="step" data-y="4000" data-x="0">
<h2>mkdir</h2>

<p>ディレクトリを作ります。</p>

<pre><code>mkdir &lt;file&gt;

# 親ディレクトリが存在しない場合、まとめて作成する
mkdir -p       &lt;directory&gt;/&lt;directory&gt;
mkdir --parent &lt;directory&gt;/&lt;directory&gt;
</code></pre>

</div>
<div class="step" data-y="4000" data-x="1200">
<h2>rm</h2>

<p>ファイルを削除します。</p>

<pre><code>rm &lt;file&gt;

# ディレクトリを再帰的に削除します
rm -r          &lt;directory&gt;
rm --recursive &lt;directory&gt;
</code></pre>

</div>
<div class="step" data-y="4000" data-x="2400">
<h2>rmdir</h2>

<p>空のディレクトリを削除します。rmコマンドでファイルを削除してから、rmdirコマンドで削除すると安全です。</p>

<pre><code>rmdir &lt;directory&gt;
</code></pre>

</div>
<div class="step" data-y="4000" data-x="3600">
<h2>cat</h2>

<p>ファイルの中身を出力します。</p>

<pre><code>cat &lt;file&gt;
</code></pre>

</div>
<div class="step" data-y="4000" data-x="4800">
<h2>head</h2>

<p>ファイルの先頭数行を表示します。</p>

<pre><code>head &lt;file&gt;
</code></pre>

</div>
<div class="step" data-y="4800" data-x="0">
<h2>tail</h2>

<p>ファイルの末尾数行を表示します。</p>

<pre><code>tail &lt;file&gt;
</code></pre>

</div>
<div class="step" data-y="4800" data-x="1200">
<h2>tailf</h2>

<p>tailと同じくファイルの末尾を表示しますが、ファイルに更新があった際に更新分を表示してくれます。
tail -fでも同様のことができますが、tailfが使用可能な環境であれば、tailfの使用を推奨します。</p>

<pre><code>tailf &lt;file&gt;
</code></pre>

</div>
<div class="step" data-y="4800" data-x="2400">
<h2>lv</h2>

<p>ファイルの中身をページングして表示します。
j,k,Ctrl + u, Ctrl + dで上下移動できます。
?,/で検索できます。移動方式はvimとほぼ同じなので覚えておくとよいでしょう。</p>

<pre><code>lv &lt;file&gt;
</code></pre>

</div>
<div class="step" data-y="4800" data-x="3600">
<h2>df</h2>

<p>ディスクの空き状況を表示します。</p>

<pre><code>df

# 読みやすい単位で表示します
df -h
</code></pre>

</div>
<div class="step" data-y="4800" data-x="4800">
<h2>du</h2>

<p>現在いるディレクトリ以下のディスクの使用状況を表示します。</p>

<pre><code># デフォルトはカレントディレクトリ
du

# ディレクトリ指定出来る
du &lt;directory&gt;

# サブディレクトリは探索しない
du -s
</code></pre>

</div>
<div class="step" data-y="5600" data-x="0">
<h2>ps</h2>

<p>現在実行されているプロセスを表示する</p>

<pre><code>ps

#全てのプロセスを表示する
ps -ef
</code></pre>

</div>
<div class="step" data-y="5600" data-x="1200">
<h2>top</h2>

<p>実行中のプロセスのリソース使用状況をリアルタイムに表示します。
&lt;,>でソートする列を変更することができます。</p>

<pre><code>top
</code></pre>

</div>
<div class="step" data-y="5600" data-x="2400">
<h2>screen, tscreen, tmux</h2>

<p>複数ウィンドウを管理できるプログラム。別の人が詳しく説明してくれるはずです。</p>

</div>
<div class="step" data-y="5600" data-x="3600">
<h2>その他</h2>

<p>ここまで基本的なコマンドを上げました。それ以外のちょっと複雑なコマンドや使い方に関しては次回やります。</p>

</div>
<div class="step" data-y="5600" data-x="4800">
<h1>Thank you.</h1>

</div>


    <div id="overview" class="step" data-x="3000" data-y="1500" data-scale="10">
    </div>

</div>

<div class="hint">
    <p>Use a spacebar or arrow keys to navigate</p>
</div>
<script>
if ("ontouchstart" in document.documentElement) { 
    document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
}
</script>
<script src="js/impress.js"></script>

</body>
</html>

